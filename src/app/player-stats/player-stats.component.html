<div class="container" style="margin-top: 30px;">
  <div class="row" style="margin-bottom: 35px;">
    <div class="col text-center">
      <h2><em>Dauntless Overwatch</em></h2>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-8 col-md-6">
      <input class="form-control" pattern="([a-zA-Z]{1,10}#[0-9]{1,10})\w+" [(ngModel)]="data" type="search" autocomplete="on" (keyup)="onKey($event)" placeholder="Enter Battletag">
    </div>
    <div class="col-4 col-md-2">
      <button type="button" [disabled]="data === ''" class="btn btn-outline-success w-100" (click)="getData()">Search</button>
    </div>
  </div>
  <br>
  <!-- <div class="row justify-content-center">
  </div> -->
  <div class="row justify-content-center">
    <div class="col-12 col-md-6" *ngIf="filteredList.length > 0">
        <div class="suggestions">
            <ul id="suggestedTags">
              <a *ngFor="let item of filteredList" (click)="select(item); filteredList = [];" >
                <li style="padding: 5px 0 5px 10px; cursor: pointer;"
                    class="border" >{{item}}
                </li>
              </a>
            </ul>
        </div>
      </div>
  </div>
</div>
<hr>

<div *ngIf="goodQuery" class="container">
  <div class="row justify-content-center">
      <div class="col-3" style="padding:0;">
        <img src="{{playerInfo.avatar}}" alt="-" 
             style="width:100px; height:100px;"
             onError="this.src='../../assets/logo.png';"></div>
      <div class="col text-center">
        <h4>{{battleTag}}</h4>
        <h4>Level: {{(playerInfo.prestige * 100) + playerInfo.level}}</h4>
      </div>
  </div>
  <div class="row justify-content-center" style="background-color:black; text-align:center; color:white;">
    <div class="col">
      <p style="padding: 2px 0;">
        <img src="{{playerInfo.tier_image}}" alt="-" 
            style="width:50px; height:50px;"
            onError="this.src='../../assets/logo.png';">{{playerInfo.comprank}}</p>
      <p>Skill Rating</p></div>
    <div class="col">
      <p style="padding: 15px 0;">{{playerInfo.wins}}-{{playerInfo.losses}}-{{playerInfo.ties}}</p>
      <p>WIN/LOSS/TIE</p></div>
    <div class="col">
      <p 
        style="padding: 15px 0;"
        [style.color]="playerInfo.win_rate > 49.9 ?'lawngreen':'#ff6464'">{{playerInfo.win_rate}}%</p>
      <p>Win Rate</p></div>
  </div>
</div>

<div *ngIf="badQuery" class=" col-md-6 offset-md-3 alert alert-danger alert-dismissible" role="alert">
  Enter a valid Battletag. (Caps matter)
  <button type="button" class="close" data-dismiss="alert" (click)="badQuery = false;" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div *ngIf="loading" class="container" style="margin-top: 10%">
  <div class="row text-center">
    <div class="col-md-6">
      Loading...
    </div>
  </div>
</div>